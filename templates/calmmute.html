<!DOCTYPE html>
<html>
	<head>
		<link rel=stylesheet type=text/css href="static/stylesheet.css?version=45">
		<link href="https://fonts.googleapis.com/css?family=Bungee+Hairline|Anonymous+Pro|Arvo" rel="stylesheet"> <!-- add Google fonts -->	
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<title>Calmmute</title>
	</head>	

	<body>
		<center><h1>Welcome to Calmmute.</h1></center>

		<center><table>
			<tr>
				<th><iframe width="90%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/274816437&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe></th>
				<div id="activity"></div>
				<th><center>{{ pose }}<br/>
				<form method="GET" action="/"><input type="submit" name="change_pose" value="Change Pose"/></form><br/><br/>
				<video loop width="90%" controls autoplay><source src="{{ video }}" type="video/mp4"></video></center><br/></th>
			</tr>
			<tr>
				<td></td>
				<td>{{ description }}</td>
			</tr>
		</table></center>
		<br/><br/><br/>

		<center><p style="font-size: 20px">We hope you enjoyed <i>Calmmute</i>. Please give us feedback on your experience with this 1-second survey.</p>

		<form method="POST" action="/calmmute">

			<p>0 <input type="range" min="0.0" max="5.0" name="rating" value="2.5" step="0.1" onchange="showValue(this.value)"/> 5</p>
			<span style="font-size: 2em; color: white" id="range"><i class='fa fa-snowflake-o'></i></span><br/><br/><br/>
			<button><b>Submit Feedback</b></button>
			<p style="font-size: 20px">Our average rating so far is <span id="feedback">{{ feedback }}</span></p>
			
		</form>
		</center>
		
		<script type="text/javascript">
			window.onload = function() {
				var newValue = {{ feedback }}
				var value = "--";
				if ((newValue > 4) && (newValue <= 5)) {
					value = "<i class='fa fa-heart'></i>";
				} else if ((newValue > 3) && (newValue <= 4)) {
					value = "<i class='fa fa-thumbs-up'></i>";
				} else if ((newValue > 2) && (newValue <= 3)) {
					value = "<i class='fa fa-snowflake-o'></i>";
				} else if ((newValue > 1) && (newValue <= 2)) {
					value = "<i class='fa fa-thumbs-down'></i>";
				} else if ((newValue >= 0) && (newValue <= 1)) {
					value = "<i class='fa fa-heart-o'></i>";
				}
				document.getElementById("feedback").innerHTML=value;
			}

			function showValue(newValue) {
				var value = "--";
				if ((newValue > 4) && (newValue <= 5)) {
					value = "<i class='fa fa-heart'></i>";
				} else if ((newValue > 3) && (newValue <= 4)) {
					value = "<i class='fa fa-thumbs-o-up'></i>";
				} else if ((newValue > 2) && (newValue <= 3)) {
					value = "<i class='fa fa-snowflake-o'></i>";
				} else if ((newValue > 1) && (newValue <= 2)) {
					value = "<i class='fa fa-thumbs-o-down'></i>";
				} else if ((newValue >= 0) && (newValue <= 1)) {
					value = "<i class='fa fa-heart-o'></i>";
				}
				document.getElementById("range").innerHTML=value;
			}
		</script>
	</body>

</html>